# Backend Contract JSON Format

This document outlines the complete JSON structure for contract data in the Pakt system, including the latest additions for INR currency handling and jurisdiction support.

## Complete Contract Object Structure

```json
{
  "id": "contract_001",
  "contractHash": "0x1a2b3c4d5e6f7890abcdef1234567890abcd",
  "name": "Web Development Project Contract",
  "projectType": "web_development",
  "description": "Full-stack web application development with React and Node.js",
  
  "currentStage": "Signatures Pending",
  "flowType": "execution",
  
  "jurisdiction": {
    "country": "India",
    "countryCode": "IN",
    "legalFramework": "Indian Contract Act, 1872",
    "disputeResolution": "Indian Courts/Arbitration",
    "applicableLaws": ["Indian Contract Act", "Information Technology Act", "Goods and Services Tax Act"],
    "timezone": "Asia/Kolkata"
  },
  
  "parties": {
    "client": {
      "name": "John Smith",
      "email": "john.smith@company.com",
      "walletAddress": "0x742d35Cc6634C0532925a3b8D4C0C8b3C2e1e1e1",
      "role": "CLIENT",
      "location": {
        "country": "India",
        "state": "Maharashtra",
        "city": "Mumbai"
      }
    },
    "freelancer": {
      "name": "Alice Johnson",
      "email": "alice.johnson@freelancer.com",
      "walletAddress": "0x8ba1f109551bD432803012645Hac136c22C177e9",
      "role": "FREELANCER",
      "skills": ["React", "Node.js", "TypeScript"],
      "location": {
        "country": "India",
        "state": "Karnataka",
        "city": "Bangalore"
      }
    }
  },
  
  "signatures": {
    "client": {
      "signed": true,
      "signedAt": "2024-01-15T10:30:00Z",
      "signature": "0x1234567890abcdef..."
    },
    "freelancer": {
      "signed": false,
      "signedAt": null,
      "signature": null
    },
    "bothSigned": false
  },
  
  "escrow": {
    "amounts": {
      "inr": {
        "totalAmount": "85000",
        "currency": "INR",
        "exchangeRateAt": "2024-01-15T10:30:00Z",
        "exchangeRate": "85.00"
      },
      "0G": {
        "totalAmount": "1000",
        "currency": "0G",
        "network": "0g-testnet"
      }
    },
    "contractAddress": "0x68dde7a0192c9c5c1e0a71cc556579a67458df0d",
    
    "deposit": {
      "deposited": false,
      "depositedAmount": "0",
      "depositedAt": null,
      "transactionHash": null
    },
    
    "fees": {
      "platformFee": {
        "inr": "1700",
        "zeroG": "20"
      },
      "storageFee": {
        "inr": "425",
        "zeroG": "5"
      },
      "totalFees": {
        "inr": "2125",
        "zeroG": "25"
      }
    }
  },
  
  "storage": {
    "contractDocument": {
      "rootHash": "0x8e9f12a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d0e1",
      "fileName": "contract_001_signed.pdf",
      "uploadedAt": "2024-01-15T10:30:00Z",
      "uploadedBy": "0x742d35Cc6634C0532925a3b8D4C0C8b3C2e1e1e1",
      "fileSize": "2.5MB"
    }
  },
  
  "projectDetails": {
    "deliverables": [
      "Frontend application",
      "Backend API",
      "Database setup"
    ],
    "timeline": "30 days",
    "startDate": "2024-01-15",
    "endDate": "2024-02-15"
  },
  
  "legalContract": {
    "contractText": "Full legal contract text generated by AI...",
    "generatedAt": "2024-01-15T10:30:00Z",
    "generatedBy": "0G_Compute_TEE",
    "storageRootHash": "0x8e9f12a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d0e1",
    "verificationProof": {
      "type": "TEE",
      "hash": "0xabcdef1234567890",
      "timestamp": "2024-01-15T10:30:00Z"
    }
  },
  
  "milestones": [
    {
      "id": "milestone_001",
      "number": 1,
      "description": "UI/UX Design completion",
      "amounts": {
        "inr": "25500",
        "zeroG": "300"
      },
      "dueDate": "2024-01-25",
      "status": "PENDING",
      
      "deliverable": {
        "type": "design_files",
        "required": ["Figma design files", "Design system documentation"],
        "submitted": false,
        "submittedAt": null,
        "submissionLinks": [],
        "storage": null
      },
      
      "verification": {
        "agentVerified": false,
        "verifiedAt": null,
        "verificationNote": ""
      },
      
      "review": {
        "clientReviewed": false,
        "reviewedAt": null,
        "approved": null,
        "feedback": "",
        "revisionRequested": false,
        "revisionCount": 0
      },
      
      "payment": {
        "released": false,
        "releasedAt": null,
        "transactionHash": null
      }
    },
    {
      "id": "milestone_002",
      "number": 2,
      "description": "Backend development",
      "amounts": {
        "inr": "34000",
        "zeroG": "400"
      },
      "dueDate": "2024-02-05",
      "status": "LOCKED",
      
      "deliverable": {
        "type": "code",
        "required": ["GitHub repository", "API documentation", "Deployment link"],
        "submitted": false,
        "submittedAt": null,
        "submissionLinks": [],
        "storage": null
      },
      
      "verification": {
        "agentVerified": false,
        "verifiedAt": null,
        "verificationNote": ""
      },
      
      "review": {
        "clientReviewed": false,
        "reviewedAt": null,
        "approved": null,
        "feedback": "",
        "revisionRequested": false,
        "revisionCount": 0
      },
      
      "payment": {
        "released": false,
        "releasedAt": null,
        "transactionHash": null
      }
    }
  ],
  
  "currentMilestone": null,
  
  "agentInfo": {
    "iNFTContractAddress": "0x81674f2f71dc648e391ff90a8e9556e41bbf42f7",
    "iNFTTokenId": "12345",
    "lastAction": null
  },
  
  "stageHistory": [
    {
      "stage": "Jurisdiction Selected",
      "timestamp": "2024-01-15T10:25:00Z",
      "triggeredBy": "user",
      "note": "India selected as jurisdiction"
    },
    {
      "stage": "Signatures Pending",
      "timestamp": "2024-01-15T10:30:00Z",
      "triggeredBy": "system",
      "note": "Contract created and awaiting signatures"
    }
  ],
  
  "shareableLink": "https://Pakt.com/contracts/contract_001",
  "createdAt": "2024-01-15T10:30:00Z",
  "lastUpdated": "2024-01-15T10:30:00Z",
  "status": "ACTIVE"
}
```

## Key Changes and Additions

### 1. Jurisdiction Support
- **jurisdiction**: Complete jurisdiction information including country, legal framework, and applicable laws
- **parties.location**: Location information for each party
- **stageHistory**: Added jurisdiction selection as a tracked stage

### 2. Dual Currency System
- **escrow.amounts**: Both INR and 0G amounts with exchange rate tracking
- **milestone amounts**: Dual currency support for each milestone
- **fees**: Platform and storage fees in both currencies
- **exchangeRate**: Historical exchange rate for audit purposes

### 3. Enhanced Legal Framework
- **applicableLaws**: Array of relevant legal acts
- **disputeResolution**: Specified dispute resolution mechanism
- **timezone**: Jurisdiction-specific timezone for legal purposes

### 4. Future Extensibility
- Structure supports adding multiple jurisdictions
- Currency system can be extended for other regions
- Legal framework can be customized per jurisdiction

## Usage Notes

1. **INR Input**: Users input amounts in INR, system converts to 0G
2. **Exchange Rate**: Captured at contract creation for legal clarity
3. **Jurisdiction**: Currently defaults to India, expandable for other countries
4. **Legal Compliance**: Structure supports jurisdiction-specific legal requirements
5. **Audit Trail**: All currency conversions and jurisdiction selections are tracked